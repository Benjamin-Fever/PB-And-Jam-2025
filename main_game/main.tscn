[gd_scene load_steps=21 format=3 uid="uid://c0evnx66fdwj0"]

[ext_resource type="Script" uid="uid://dsji2mmx2l1gd" path="res://main_game/main.gd" id="1_tt1kf"]
[ext_resource type="Texture2D" uid="uid://brob48mapy17o" path="res://assets/bg.png" id="2_qofrp"]
[ext_resource type="PackedScene" uid="uid://byrw1hxt4fuuo" path="res://interactible/electric_hat.tscn" id="3_i82q8"]
[ext_resource type="PackedScene" uid="uid://5krx5qch8jer" path="res://npc/npc.tscn" id="3_os3gg"]
[ext_resource type="PackedScene" uid="uid://p5efufgx1aud" path="res://npc/chair.tscn" id="3_sayuc"]
[ext_resource type="Script" uid="uid://lf51llnx6jup" path="res://interactible/ItemSelector.gd" id="4_1jkqm"]
[ext_resource type="PackedScene" uid="uid://vgm28rnd3660" path="res://interactible/shaver.tscn" id="5_7km35"]
[ext_resource type="PackedScene" uid="uid://d2vu60epyo0j" path="res://interactible/saw.tscn" id="6_7km35"]
[ext_resource type="PackedScene" uid="uid://0rgcdwbx45g2" path="res://interactible/sponge.tscn" id="7_f1cmj"]
[ext_resource type="PackedScene" uid="uid://m4eiypsbe703" path="res://interactible/lever.tscn" id="8_d214i"]
[ext_resource type="PackedScene" uid="uid://xmnaehdbd0wk" path="res://interactible/pivot.tscn" id="11_b3klj"]
[ext_resource type="PackedScene" uid="uid://cse742bt86tqf" path="res://interactible/lever2.tscn" id="11_d214i"]
[ext_resource type="Texture2D" uid="uid://frtmtl04402j" path="res://assets/items.png" id="13_i82q8"]

[sub_resource type="Gradient" id="Gradient_sayuc"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.662021, 0.851063, 0.978222, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_i82q8"]
gradient = SubResource("Gradient_sayuc")
width = 1

[sub_resource type="Gradient" id="Gradient_i82q8"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.662021, 0.851063, 0.978222, 0.552941)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_b3klj"]
gradient = SubResource("Gradient_i82q8")
width = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qofrp"]
size = Vector2(1, 1)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_0ds30"]
texture = ExtResource("13_i82q8")
region_rect = Rect2(500, 40, 400, 400)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_b3klj"]
texture = ExtResource("13_i82q8")
region_rect = Rect2(500, 512.87, 400, 400)

[node name="Main" type="Node2D"]
script = ExtResource("1_tt1kf")

[node name="WindowCutout" type="Polygon2D" parent="."]
clip_children = 1
z_index = -4
position = Vector2(960, 540)
scale = Vector2(0.5, 0.5)
polygon = PackedVector2Array(2692, -920, 2618, 1398, -2450, 1304, -2362, -1594, 2872, -1600, 1926, -832, 1800, -834, 844, -834, 844, -276, 1800, -278, 1800, -830, 1800, -834, 1932, -832)

[node name="BG" type="Sprite2D" parent="WindowCutout"]
texture = ExtResource("2_qofrp")

[node name="WindowBG" type="Sprite2D" parent="."]
z_index = -6
position = Vector2(1621, 262)
scale = Vector2(478, 278)
texture = SubResource("GradientTexture1D_i82q8")

[node name="Window" type="Sprite2D" parent="."]
position = Vector2(1621.13, 262.375)
scale = Vector2(477.75, 279.25)
texture = SubResource("GradientTexture1D_b3klj")

[node name="Chair" parent="." instance=ExtResource("3_sayuc")]
position = Vector2(947, 540)

[node name="ElectricHat" parent="." instance=ExtResource("3_i82q8")]
z_index = 2
position = Vector2(948, 129)

[node name="NPC" parent="." instance=ExtResource("3_os3gg")]
position = Vector2(947, 358)

[node name="ItemSelector" type="Area2D" parent="."]
script = ExtResource("4_1jkqm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ItemSelector"]
shape = SubResource("RectangleShape2D_qofrp")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 540)

[node name="Interactables" type="Node2D" parent="."]

[node name="Table" type="Node2D" parent="Interactables"]
z_index = 1

[node name="Shaver" parent="Interactables/Table" instance=ExtResource("5_7km35")]
position = Vector2(1605, 985)

[node name="Saw" parent="Interactables/Table" instance=ExtResource("6_7km35")]
position = Vector2(1431, 987)

[node name="Sponge" parent="Interactables/Table" instance=ExtResource("7_f1cmj")]
position = Vector2(1731, 978)

[node name="Voltage" type="Node2D" parent="Interactables"]
z_index = -1
position = Vector2(1262, 382)

[node name="Lever" parent="Interactables/Voltage" node_paths=PackedStringArray("lever_pivot") instance=ExtResource("8_d214i")]
position = Vector2(1, 35)
rotation = -4.66701
lever_pivot = NodePath("../Pivot")

[node name="Pivot" parent="Interactables/Voltage" instance=ExtResource("11_b3klj")]
position = Vector2(-10, 66)

[node name="Polygon2D2" type="Polygon2D" parent="Interactables/Voltage"]
visible = false
position = Vector2(-349, -169)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(338, 168, 315, 174, 282, 208, 285, 227, 400, 227, 400, 203, 375, 173, 356, 167)

[node name="Lever" type="Node2D" parent="Interactables"]
position = Vector2(1258, 574)

[node name="Lever" parent="." instance=ExtResource("11_d214i")]
z_index = -1
position = Vector2(1257, 623)

[node name="EscapeGoat" type="Button" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 512.0
offset_top = 894.0
offset_right = 753.0
offset_bottom = 1077.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/disabled = SubResource("StyleBoxTexture_0ds30")
theme_override_styles/hover_pressed = SubResource("StyleBoxTexture_b3klj")
theme_override_styles/hover = SubResource("StyleBoxTexture_0ds30")
theme_override_styles/pressed = SubResource("StyleBoxTexture_b3klj")
theme_override_styles/normal = SubResource("StyleBoxTexture_0ds30")

[connection signal="burned_up" from="NPC" to="." method="_on_npc_burned_up"]
[connection signal="start_electrocution" from="Lever" to="NPC" method="_on_lever_start_electrocution"]
[connection signal="pressed" from="EscapeGoat" to="." method="_on_escape_goat_pressed"]
