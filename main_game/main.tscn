[gd_scene load_steps=16 format=3 uid="uid://c0evnx66fdwj0"]

[ext_resource type="Script" uid="uid://dsji2mmx2l1gd" path="res://main_game/main.gd" id="1_tt1kf"]
[ext_resource type="Texture2D" uid="uid://1i3ejuo1srwu" path="res://assets/bg.png" id="2_qofrp"]
[ext_resource type="Script" uid="uid://dm5kg2m4qklss" path="res://main_game/items/ItemRegion.gd" id="3_60na2"]
[ext_resource type="PackedScene" uid="uid://5krx5qch8jer" path="res://main_game/npc/npc.tscn" id="3_os3gg"]
[ext_resource type="Script" uid="uid://lf51llnx6jup" path="res://main_game/items/ItemSelector.gd" id="4_1jkqm"]
[ext_resource type="Script" uid="uid://bx50wh1ea8klh" path="res://main_game/items/VoltageRegion.gd" id="5_1jkqm"]
[ext_resource type="Script" uid="uid://cl86knhdy2fa3" path="res://main_game/Interaction.gd" id="6_qofrp"]
[ext_resource type="Texture2D" uid="uid://frtmtl04402j" path="res://assets/items.png" id="6_xvufe"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qofrp"]
size = Vector2(1, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_os3gg"]
size = Vector2(71.755, 148.358)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xvufe"]
size = Vector2(120.685, 198.163)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7km35"]
size = Vector2(106.615, 177.315)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1jkqm"]
size = Vector2(56.03, 139.153)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f1cmj"]
size = Vector2(80, 80)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sayuc"]
size = Vector2(99.935, 154.715)

[node name="Main" type="Node2D"]
script = ExtResource("1_tt1kf")

[node name="Bg" type="Sprite2D" parent="."]
position = Vector2(960, 535)
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_qofrp")

[node name="NPC" parent="." instance=ExtResource("3_os3gg")]
position = Vector2(947, 358)

[node name="ItemSelector" type="Area2D" parent="."]
script = ExtResource("4_1jkqm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ItemSelector"]
shape = SubResource("RectangleShape2D_qofrp")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(966, 540)

[node name="Interactables" type="Node2D" parent="."]

[node name="Table" type="Node2D" parent="Interactables"]

[node name="Shaver" type="Area2D" parent="Interactables/Table"]
position = Vector2(1605, 985)
script = ExtResource("3_60na2")
item_state = 3

[node name="Sprite2D" type="Sprite2D" parent="Interactables/Table/Shaver"]
position = Vector2(11.4546, -17.3722)
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_xvufe")
hframes = 8
vframes = 5
frame = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Table/Shaver"]
position = Vector2(-6.00659, -4.50171)
rotation = 0.331613
shape = SubResource("RectangleShape2D_os3gg")

[node name="Saw" type="Area2D" parent="Interactables/Table"]
position = Vector2(1431, 987)
script = ExtResource("3_60na2")
item_state = 1

[node name="Sprite2D" type="Sprite2D" parent="Interactables/Table/Saw"]
position = Vector2(11.4546, -17.3722)
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_xvufe")
hframes = 8
vframes = 5
frame = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Table/Saw"]
position = Vector2(-1, -4)
rotation = 0.401426
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_xvufe")

[node name="Sponge" type="Area2D" parent="Interactables/Table"]
position = Vector2(1731, 978)
script = ExtResource("3_60na2")
item_state = 2

[node name="Sprite2D" type="Sprite2D" parent="Interactables/Table/Sponge"]
position = Vector2(11.4546, -17.3722)
scale = Vector2(0.6, 0.6)
texture = ExtResource("6_xvufe")
hframes = 8
vframes = 5
frame = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Table/Sponge"]
position = Vector2(-5.99988, -6)
rotation = 0.356759
shape = SubResource("RectangleShape2D_7km35")

[node name="Voltage" type="Node2D" parent="Interactables"]
position = Vector2(1262, 382)

[node name="Lever" type="Area2D" parent="Interactables/Voltage" node_paths=PackedStringArray("lever_pivot")]
position = Vector2(1, 35)
script = ExtResource("5_1jkqm")
voltage_med_rotation = 90
voltage_high_rotation = 180
lever_pivot = NodePath("../Pivot")
item_state = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Voltage/Lever"]
position = Vector2(-55, 1)
rotation = -1.5708
shape = SubResource("RectangleShape2D_1jkqm")

[node name="Pivot" type="Node2D" parent="Interactables/Voltage"]
position = Vector2(-1, 36)

[node name="Polygon2D" type="Polygon2D" parent="Interactables/Voltage/Pivot"]
position = Vector2(-239, 348)
rotation = -1.5708
color = Color(0.52434, 0.52434, 0.52434, 1)
polygon = PackedVector2Array(340, 159, 340, 246, 353, 246, 353, 157, 361, 153, 361, 142, 348, 130, 340, 130, 327, 137, 329, 153)

[node name="Polygon2D2" type="Polygon2D" parent="Interactables/Voltage"]
position = Vector2(-349, -169)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(338, 168, 315, 174, 282, 208, 285, 227, 400, 227, 400, 203, 375, 173, 356, 167)

[node name="Lever" type="Node2D" parent="Interactables"]
position = Vector2(1258, 574)

[node name="LStrap" type="Area2D" parent="Interactables"]
position = Vector2(831, 565)
script = ExtResource("6_qofrp")
interact_type = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/LStrap"]
shape = SubResource("RectangleShape2D_f1cmj")

[node name="RStrap" type="Area2D" parent="Interactables"]
position = Vector2(1063, 566)
script = ExtResource("6_qofrp")
interact_type = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/RStrap"]
shape = SubResource("RectangleShape2D_f1cmj")

[node name="Lever" type="Area2D" parent="."]
position = Vector2(1257, 575)
script = ExtResource("6_qofrp")
metadata/_custom_type_script = "uid://cl86knhdy2fa3"

[node name="Polygon2D" type="Polygon2D" parent="Lever"]
color = Color(0.13556, 0.13556, 0.13556, 1)
polygon = PackedVector2Array(-38, -67, 42, -68, 46, 65, -41, 63)

[node name="Polygon2D2" type="Polygon2D" parent="Lever"]
color = Color(0.484797, 0.484797, 0.484797, 1)
polygon = PackedVector2Array(-25, -48, -26, -1, -19, -3, -19, -13, 19, -13, 22, 1, 29, 0, 27, -49, 8, -49, 7, -78, -10, -78, -8, -49)

[node name="Polygon2D3" type="Polygon2D" parent="Lever"]
visible = false
rotation = -3.14159
color = Color(0.484797, 0.484797, 0.484797, 1)
polygon = PackedVector2Array(-25, -48, -26, -1, -19, -3, -19, -13, 19, -13, 22, 1, 29, 0, 27, -49, 8, -49, 7, -78, -10, -78, -8, -49)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Lever"]
position = Vector2(0, -6.35748)
shape = SubResource("RectangleShape2D_sayuc")
